数据比算法重要。

数据挖掘流程：获取数据、数据预处理（从数据中检测，纠正或删除损坏，不准确或不适用模型的记录）、特征工程（创造、提取特征，目的降低计算成本，提升模型上限）、建模、上线。

sklearn中dimensionality和preprocessing都是涉及数据预处理和特征工程的模块

模块preprocessing：几乎包含数据预处理的所有内容

模块impute：填补缺失值专用

模块feature_selection：包含特征选择的各种方法的实践

模块decomposition：包含降维算法

数据与处理：preprocessing和impute

数据无量纲化

将不同规格转为同一规格，不同分布转为同一分布，在涉及梯度和矩阵的算法中可以加快梯度下降求解速度，在距离类模型中可以提高模型精度，一个特例决策树和树的集成算法不需要做无量纲化处理

线性：中心化（zero-centered）加减一个数据进行平移、缩放处理（scale）乘除一个数据进行缩放、数据归一化（normalization或min-max scaling）减去最小值做中心化再以最大值和最小值的差进行缩放就是数据归一化。

1.归一化

sklearn中preprocessing.MinMaxScaler实现，feature_range控制压缩范围，默认0-1

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=YTcyZDlkYmVkNDEzYjgwNDgxODhkMmVmNThmOWNhN2FfcnhoNUxFaTJLdWZIT1R6dEo5MTFjWFBvWEFmdjN4anhfVG9rZW46Ym94Y25QVGhHcFRBa25IOUE4cmxueXFiaUliXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWNmNDM2YjMzMDAyM2MwZWNmMTA0MzU3ZDFmOWQ2M2VfN054VFJCTDNKaHd0SWUzQXd4bk5ZOFhjQ0ZrWkZYVkFfVG9rZW46Ym94Y24zeUk0cTVtRHlnOE9KUGxETzV2bGNjXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

numpy实现归一化

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=OGI3MDgxMDhhNDY1MGVkNWZkNmFmZTU2NWRjMGMyM2ZfOWQzVEJRSjBoRnVkTjhwU0Q2V1ROblAyTG5pNnpBc1dfVG9rZW46Ym94Y24ycmU0WUgySENBOWl3cTFGTGc2WWpsXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

2.标准化

数据标准化preprocessiong.StandardScaler，标准正态分布，均值为0方差为1

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MWZmN2Q2Y2RiNGUwN2M0Zjk1MmRiMzg2M2E0ZmE2ZmFfZzFNY0NFcDVpUzM5RDUwY3hwRkdlN0JXY09kOENRQzdfVG9rZW46Ym94Y25KaGduc1RHbkpjVE1ueGVWdjVLNTBnXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MmFjMzJhOTU1NTIyMjVkMzBkNWFmOTc5NGYyNDNlYTdfNlFPNThjT1Bta05CNW10WHRsRnI5dldDQ1JXampORk9fVG9rZW46Ym94Y25nSXZ1UHBBOWtYR082ZlpLUGcyMGUxXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

标准化和归一化中空值和NAN是缺失值，fit的时候忽略，transform的时候保持NAN状态，fit接口只允许导入至少二维数组，一维数组导入会报错，因为默认处理的是特征矩阵。

标准化和归一化，一般选择标准化比较多，因为归一化受到异常值影响比较大。

其余方法还有

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=YWJjZjljOWQ4ODBhZjAzZTUyZDk3ZWQ1YWNkYzE5OTlfMnNHQk1lbkRqYTk3dXZRMDl6ZWRsMXNMUnY0cTJmeUJfVG9rZW46Ym94Y25aWGc1dGNYMUVqTkM5UW5Kd1dRZ0pjXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

3.缺失值处理

impute.SimpleImputer进行缺失值处理，其中参数miss_values是告诉SimpleImputer，数据中缺失值长什么样，默认是np.nan；参数strategy是缺失值插补策略，有mean，median，most_frequent,constant插补，其中前两个均值和中位数只能在数值型中插补，后两个众数和特定值可以在数值型和字符型中都可以插补，特定值是在参数fill_value中输入的值，参数copy是否创建副本，默认True是创建，如果为False则会覆盖原数据。

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MGUzMTNhMjYzNzdlNTQ5MjdlYWJkMGZmMjc5YzFhOGRfUnhkUE5wUWsxem5FTHd0MVF0OHRnVWhPOWZ1VEZJeDhfVG9rZW46Ym94Y25PdHNzTXRGTzNseThGck96MUwwOXJkXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

用sklearn.impute.SimpleImpute填补

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MjUyZWE3Mzk2YTYyNTM1Y2Y3MGJlYTllN2VmOTc2YjBfV3RFUHlCWEFQU2JwbXBjVEVZU3ZFNXMxcG1Kb0ZneXNfVG9rZW46Ym94Y25rWWdpS3dSZVl5WDNGS0FBUjA2MzhlXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=OGQzYTY0NjdkYmJmMWQxOWY5ZDVkMDYxMzAyMGJiN2FfNjVrQVVYZnQxNzdocTNrVlRWMTlBeEI1S1pYekRKU3NfVG9rZW46Ym94Y25waDZkekZIb1RtbWxLNldPSFlSb1hiXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

用pandas自带fillna，dropna填补

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDI5MjNmNDBlMDA5YThhODBiNGE0YmE3MDRkMGViODZfMGd3TUpmdzU4UDhVb1NKeUVLNTlwaGRLMEdhb2ZXVFNfVG9rZW46Ym94Y25aQTExMmh5WjB5QVFPMU8yT2lIRUNoXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

4 处理分类型特征：编码与哑变量

preprocessing.LabelEncoder：标签专用，能够将分类转换为分类数值

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=NDYyMDkwZmNlZmVlODhiMzg5OTk4YzNjYWRmODAyMmFfTEVNY3NkcjFVckQ5Nm5PRzYzcllsNjNpM2daSDJvNHBfVG9rZW46Ym94Y251UnJtTmhRUDQwWWJPblQ1V0I3d2RiXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

一步完成

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=Zjg0NzRiZmExYWQ2ZTJhZWIwYTZlMDFhY2YyNDUyMDlfdnAwR2VwQjVjNEJOeDliOVZsSHpVajNvazFibkFwc1lfVG9rZW46Ym94Y25pblZoRDd2OEN1NEtpUkw2WEh3eFViXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

preprocessing.OrdinalEncoder：特征专用，能把分类特征转换为分类数值

不能导入一维数组，因为是特征专用的。

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjA4OGQ0ZjdlY2Q4MDFiMGI2MjFmMmUxNzg4YzRkZmNfaHdOUmNuaEdFREJySW5SUjNMelhFNUFOU1I1WmlNTUtfVG9rZW46Ym94Y25SUVRPVGxyWUx6S1Z2WmFtVW9tVHZ4XzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

preprocessing.OneHotEnconder独热编码，创建哑变量

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=NGRjNzIxZDY3ZDNkZGM3ZmJiOTI0ZjUxNDc2MjEzZWZfeUNCVmZPbUpDdXM1T3RLUkJLVk1WS0szdTNrNHhzZnpfVG9rZW46Ym94Y25lUmRGeEdGN3YydjhwMm4wMmpDMGZkXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=OWI1YjdhNzAyNmNlMjEwMDIxYWY0ZGExMDllYTAyMWVfMzNKR3lFMGNpMlp0aW9haGFzcGRrNG1FNVdXYzF0NjZfVG9rZW46Ym94Y25ZVjU2bXF3Y01mVkFiOGZmMXhaNkEwXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

也可以对标签做哑变量，preprocessing.LabelBinarizer，但现实中不常见。

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MTRlMTlmMDJjZjQ5Yjg4NTRiYzIyODlmODIzNmExYzNfQ1RzcTd4UXhaQm1SNVNkTUdoTnFLd0MxNUxZTmJMelVfVG9rZW46Ym94Y242aFFQNUtTN2taRnJLMVhWR0pueGxmXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

**5 处理连续型特征：二值化与分段**

sklearn.preprocessing.Binarizer，处理分类变量和连续变量之前一定要先处理缺失值。

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=ODUzYjc1YzUzZTRlZmM5Yjc5NTJlMDkzNmNjZWNjZTNfNXFNanQyeDlzdUFaSEtweDJkQUlGaXFJTVE4SDNLS0xfVG9rZW46Ym94Y24zSzNvalh6S2xBV0hIalpxRkZldG5nXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

sklearn.preprocessing.KBinsDiscretizer，连续变量划分为多个类别

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=MDY3NzU2MjFiMjFjYzlkOWMzMTFiNzllNjE3NTBhMDdfN3NNWE93TTNwWXlRZnlrR0dkcHYxOG5ET2ppQkhlWE5fVG9rZW46Ym94Y25kYmJISE1wRFk3UExWb1VMN3VoQmllXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

![](https://fjjwhjwd3p.feishu.cn/space/api/box/stream/download/asynccode/?code=ODBlNzQxOGJkMzFjNWJhZGZlOTc1ZDgzYzRkNGRiMWRfNnZ1VWJsbVdJa3Z0NHVKN3FJODI2aEhIWDRtYWNpdTRfVG9rZW46Ym94Y256UkhHSGZFNFlwbHF6TDNaMnUxeDlmXzE2NzU3MzgxNDk6MTY3NTc0MTc0OV9WNA)

发布于 2020-04-27 21:16
